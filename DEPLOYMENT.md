# GitHub Pages 部署指南

## 项目概述
这是一个展示抗日战争和解放战争详细时间轴与知识图谱的Web应用，已针对GitHub Pages部署进行了优化。

## 部署步骤

### 1. 准备GitHub仓库
1. 在GitHub上创建一个新的仓库
2. 将所有文件推送到仓库的main或master分支

### 2. 启用GitHub Pages
1. 进入仓库的Settings页面
2. 在左侧菜单中找到"Pages"
3. 在"Source"部分选择"GitHub Actions"
4. 保存设置

### 3. 自动部署
- 当推送到main/master分支时，GitHub Actions会自动构建和部署
- 部署完成后，可在 `https://[用户名].github.io/[仓库名]` 访问网站

## 兼容性特性

### 已实现的兼容性改进

#### 1. 兼容性管理器 (compatibility.js)
- **全局错误处理**: 捕获并处理JavaScript错误
- **加载状态显示**: 显示加载进度和状态
- **网络监控**: 检测网络连接状态
- **备用CDN**: 当主CDN不可用时自动切换到备用CDN
- **数据备用策略**: 提供本地数据备份
- **功能降级模式**: 在兼容性问题时提供基本功能

#### 2. 知识图谱降级模式
- 当D3.js无法加载时，自动切换到列表视图
- 保持所有节点和连接关系的显示
- 提供完整的交互功能

#### 3. 跨浏览器支持
- 支持现代浏览器 (Chrome, Firefox, Safari, Edge)
- 提供ES5兼容性
- 响应式设计，支持移动设备

## 文件结构

```
.
├── index.html              # 主页面
├── style.css               # 样式文件
├── main.js                 # 主应用逻辑
├── data.js                 # 知识图谱数据
├── compatibility.js        # 兼容性管理器
├── _config.yml             # GitHub Pages配置
├── .github/workflows/
│   └── deploy.yml          # 部署工作流
├── README.md               # 项目说明
└── DEPLOYMENT.md           # 部署指南
```

## 技术特性

### 前端技术
- **HTML5**: 语义化标记
- **CSS3**: 现代样式和动画
- **JavaScript ES6+**: 现代JavaScript特性
- **D3.js**: 数据可视化库

### 兼容性支持
- **ES5兼容**: 使用Babel兼容旧浏览器
- **Polyfills**: 提供现代API的兼容性支持
- **渐进增强**: 基础功能在所有浏览器中可用

### 性能优化
- **懒加载**: 按需加载资源
- **缓存策略**: 优化资源缓存
- **压缩优化**: 文件压缩和优化

## 故障排除

### 常见问题

#### 1. 知识图谱不显示
- 检查浏览器控制台是否有错误
- 确保D3.js库正确加载
- 尝试刷新页面或清除缓存

#### 2. 部署失败
- 检查GitHub Actions日志
- 确保所有文件已正确提交
- 验证_config.yml配置

#### 3. 移动设备显示问题
- 项目已实现响应式设计
- 检查CSS媒体查询
- 测试不同屏幕尺寸

### 调试工具
- 使用浏览器开发者工具
- 查看控制台输出
- 检查网络请求

## 更新和维护

### 内容更新
1. 修改data.js文件中的时间轴数据
2. 更新知识图谱节点和连接
3. 提交更改到GitHub

### 功能扩展
1. 在main.js中添加新功能
2. 在style.css中更新样式
3. 测试兼容性后部署

## 技术支持
如有部署问题，请检查：
1. GitHub Actions运行状态
2. 浏览器兼容性
3. 网络连接状态
4. 文件路径和引用

项目已针对GitHub Pages部署进行了全面优化，确保在各种环境下都能正常运行。
